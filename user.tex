\section{User Part of the Code}
\label{User}


\subsection{Functionals}
\label{My_funs}

The directory \code{ROMS/Functionals} contains the source file
\code{analytical.F} as well as a number of files of the form
\code{ana\_xxx.h} Each of these include files contains the analytic
expressions for its respective functionality. For instance, a simple
box grid can be represented analytically internal to the model more
easily than preparing a grid file with some outside program. Those
expressions can be found inside \code{ana\_grid.h}. The version of
\code{ana\_grid.h} found in the \code{ROMS/Functionals} directory contains
everything for the example problems distributed with ROMS (unless
it requires an external grid file). If you choose to build analytic
grids for your own applications, it is recommended that you use that
in \code{User/Functionals} instead, or provide a version in some third
location pointed to by \code{MY\_ANALYTICAL\_DIR} (see \S\ref{make_var}.


The list of these files is here:
\begin{klist}
\kitem{ana\_biology.h}
For providing analytic initial conditions for the biological tracers.
\code{cpp} flag = \code{ANA\_BIOLOGY}

\kitem{ana\_bmflux.h}
For providing spacially varying roughness (z0) for bottom momentum
stresses.
\code{cpp} flag = \code{ANA\_BMFLUX} 

\kitem{ana\_btflux.h}
For providing analytic bottom flux on tracers (usually zero).
\code{cpp} flags = \code{ANA\_BTFLUX}, \code{SEDIMENT}

\kitem{ana\_cloud.h}
For providing analytic atmospheric cloud fraction.
\code{cpp} flags = \code{ANA\_CLOUD}, \code{CLOUDS}

\kitem{ana\_diag.h}
For providing specialized diagnostics during runtime.
\code{cpp} flag = \code{ANA\_DIAG}

\kitem{ana\_fsobc.h}
For providing analytic free surface boundary conditions.
\code{cpp} flag = \code{ANA\_FSOBC}

\kitem{ana\_grid.h}
For providing analytic grid information.
\code{cpp} flag = \code{ANA\_GRID}

\kitem{ana\_hmixcoef.h}
For providing analytic atmospheric cloud fraction.
\code{cpp} flags = \code{VISC\_GRID}, \code{DIFF\_GRID}, \code{SPONGE}

\kitem{ana\_humid.h}
For providing analytic atmospheric humidity.
\code{cpp} flag = \code{ANA\_HUMID}

\kitem{ana\_initial.h}
For providing analytic initial conditions.
\code{cpp} flag = \code{ANA\_INITIAL}

\kitem{ana\_m2clima.h}
For providing analytic 2-D momentum climatology.
\code{cpp} flags = \code{ANA\_M2CLIMA}, \code{M2CLIMATOLOGY}

\kitem{ana\_m2obc.h}
For providing analytic 2-D momentum open boundary conditions.
\code{cpp} flag = \code{ANA\_M2OBC}

\kitem{ana\_m3clima.h}
For providing analytic 3-D momentum climatology.
\code{cpp} flag = \code{ANA\_M3CLIMA}

\kitem{ana\_m3obc.h}
For providing analytic 3-D momentum open boundary conditions.
\code{cpp} flag = \code{ANA\_M3OBC}

\kitem{ana\_mask.h}
For providing analytic land masks.
\code{cpp} flags = \code{ANA\_GRID},
\code{MASKING}

\kitem{ana\_nudgcoef.h}
For providing analytic atmospheric humidity.
\code{cpp} flag = \code{NUDGING\_COFF}

\kitem{ana\_pair.h}
For providing analytic atmospheric pressure.
\code{cpp} flag = \code{ANA\_PAIR}

\kitem{ana\_passive.h}
For providing analytic passive tracer initial conditions.
\code{cpp} flags = \code{ANA\_PASSIVE}, \code{T\_PASSIVE}

\kitem{ana\_perturb.h}
For providing perturbations to the initial conditions.
\code{cpp} flag = \code{ANA\_PERTURB}

\kitem{ana\_psource.h}
For providing analytic atmospheric humidity.
\code{cpp} flags = \code{ANA\_PSOURCE}, \code{TS\_PSOURCE},
\code{UV\_PSOURCE}

\kitem{ana\_rain.h}
For providing analytic atmospheric rainfall rates.
\code{cpp} flag = \code{ANA\_RAIN}

\kitem{ana\_scope.h}
For providing analytic adjoint sensitivity spatial scope masking
arrays.
\code{cpp} flag = \code{ANA\_GRID}

\kitem{ana\_sediment.h}
For providing analytic initial conditions for the sediments and bed
conditions.
\code{cpp} flag = \code{ANA\_SEDIMENT}

\kitem{ana\_smflux.h}
For providing analytic surface momentum flux (wind stress).
\code{cpp} flag = \code{ANA\_SMFLUX}

\kitem{ana\_specir.h}
For providing analytic calculation of spectral downwelling
irradiance.
\code{cpp} flag = \code{ECOSIM}

\kitem{ana\_spinning.h}
For providing analytic time variable rotation forces.
\code{cpp} flag = \code{ANA\_SPINNING}

\kitem{ana\_srflux.h}
For providing analytic incoming shortwave radiation.
\code{cpp} flags = \code{ANA\_SRFLUX}, \code{DIURNAL\_SRFLUX}

\kitem{ana\_ssh.h}
For providing analytic sea surface height climatology.
\code{cpp} flags = \code{ANA\_SSH},
\code{ZCLIMATOLOGY}

\kitem{ana\_sss.h}
For providing analytic sea surface salinity.
\code{cpp} flags = \code{ANA\_SSS}, \code{SALINITY}, \code{SCORRECTION},
\code{SRELAXATION}

\kitem{ana\_sst.h}
For providing analytic atmospheric rainfall rates.
\code{cpp} flags = \code{ANA\_SST},
\code{QCORRECTION}

\kitem{ana\_stflux.h}
For providing analytic surface tracer fluxes.
\code{cpp} flags = \code{ANA\_STFLUX}, \code{ANA\_SSFLUX},
\code{ANA\_SPFLUX}

\kitem{ana\_tair.h}
For providing analytic air temperatures.
\code{cpp} flag = \code{ANA\_TAIR}

\kitem{ana\_tclima.h}
For providing analytic atmospheric rainfall rates.
\code{cpp} flags = \code{ANA\_TCLIMA}, \code{TCLIMATOLOGY}

\kitem{ana\_tobc.h}
For providing analytic tracer open boundary conditions.
\code{cpp} flag = \code{ANA\_TOBC}

\kitem{ana\_vmix.h}
For providing analytic vertical mixing coefficients.
\code{cpp} flag = \code{ANA\_VMIX}

\kitem{ana\_winds.h}
For providing analytic atmospheric winds.
\code{cpp} flag = \code{ANA\_WINDS}

\kitem{ana\_wwave.h}
For providing analytic wind-induced surface waves (amplitude,
direction, and period).
\code{cpp} flag = \code{ANA\_WWAVE}
\end{klist}
